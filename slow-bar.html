<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-141041566-1"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-141041566-1');
        </script>
        <meta charset="utf-8">
        <meta property="og:image" content="https://dakotaholiman.com/img/Social-Preview.png"/>
        <meta property="og:type" content="Website"/>
        <meta property="og:url" content="https://dakotaholiman.com"/>
        <meta property="og:title" content="Dakota Holiman | Human Focused UX Designer"/>
        <meta property="og:description" content="I’m a passionate human advocate and ux designer, and this is my portfolio. It’s a high-level overview of impactful interactions and innovative solutions (with few Easter eggs scattered about.)"/>
        <!-- Meta tag to ensure pages render correctly on mobile browsers -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
       <!-- <meta name="theme-color" content="rgb(var(--accent-clr))"> -->
        <title>Dakota Holiman | Slow Bar Coffee Company</title>
        <meta name="description" content="Dakota Holiman is a human focused UX designer creating digital tools that simplify daily living. On this portfolio, you can explore case studies, galleries, and Easter eggs to see his work in action and learn more about his design process and philosophy.">
        <link rel="stylesheet" href="css/styles.css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;500;800&display=swap" rel="stylesheet">
        <link rel="preload" as="image" href="img/YL-Nav-Case-Study.jpg">
        <link rel="preload" as="image" href="img/YL-Nav-Case-Study-Hover.jpg">
        <!-- favicon and other off-site icons -->
        <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
        <link rel="manifest" href="/img/favicon/site.webmanifest">
        <link rel="mask-icon" href="/img/favicon/safari-pinned-tab.svg" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#eae9e0">
        <meta name="theme-color" content="#EAE9E0">
        <script type="module">
            // Import Firebase modules
            import { initializeApp } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js";
            import { getFirestore, doc, getDoc, updateDoc, increment } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-firestore.js";
        
            // Firebase configuration
            const firebaseConfig = {
                apiKey: "AIzaSyAWrjS84B_jfMFJCk7kbF7U3UcbHJ_0Hyc",
                authDomain: "portfolio-tracker-aa2af.firebaseapp.com",
                projectId: "portfolio-tracker-aa2af",
                storageBucket: "portfolio-tracker-aa2af.appspot.com",
                messagingSenderId: "1000014062310",
                appId: "1:1000014062310:web:f75dda3b9cb64b76999127",
                measurementId: "G-T79KFPP4WY"
            };
        
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const db = getFirestore(app);
        
            // Firestore document reference
            const docRef = doc(db, 'downloads', 'globalCount');
        
            // Function to fetch and display the current count on page load
            async function fetchDownloadCount() {
                const downloadCountElement = document.getElementById('downloadCount');
                try {
                    const docSnap = await getDoc(docRef);
                    if (docSnap.exists()) {
                        const currentCount = docSnap.data().count;
                        downloadCountElement.textContent = currentCount;
                    } else {
                        console.error("Document does not exist!");
                        downloadCountElement.textContent = "0";
                    }
                } catch (error) {
                    console.error("Error fetching Firestore data:", error);
                    downloadCountElement.textContent = "Error";
                }
            }
        
            // Function to handle download and update Firestore
            async function handleDownload() {
                const downloadCountElement = document.getElementById('downloadCount');
                try {
                    // Increment the count
                    await updateDoc(docRef, {
                        count: increment(1)
                    });
        
                    // Fetch the updated count
                    const updatedDoc = await getDoc(docRef);
                    if (updatedDoc.exists()) {
                        downloadCountElement.textContent = updatedDoc.data().count;
                    }
        
                    // Trigger file download
                    const link = document.createElement('a');
                    link.href = '/img/Kettle-Stand-V1.zip'; // Replace with actual file URL
                    link.download = 'Kettle-Stand-V1.zip'; // Replace with desired file name
                    link.click();
                } catch (error) {
                    console.error("Error updating Firestore:", error);
                    alert("Failed to update the download count. Please try again later.");
                }
            }
        
            // Attach event listener after DOM is loaded
            document.addEventListener('DOMContentLoaded', () => {
                // Fetch the current download count
                fetchDownloadCount();
        
                // Attach click event to the download button
                const downloadButton = document.getElementById('downloadButton');
                downloadButton.addEventListener('click', handleDownload);
            });
        </script>        
    </head>
    <body>
        <div id="theme" class="bg-img original">
            <div class="moveHeader">    
                <nav>
                    <div class="container">
                        <a href="https://www.dakotaholiman.com/slow-bar.html" class="logo"><span class="animate">Slow Bar Coffee Co.</span></a>
                        <input type="checkbox" id="burger" aria-label="menu">
                        <label for="burger"><i class="fas fa-bars animate"></i></label>
                        <ul>                       
                            <li class="animate"><button onclick="window.open('https://www.instagram.com/slowbarbarista/','popUpWindow','height=1200,width=600,left=10,top=10,,scrollbars=yes,menubar=no'); return false;" class="button6" target="_blank">Tip Jar</button></li>
                            <li></li>
                            <li class="animate"><button onclick="window.open('https://www.instagram.com/slowbarbarista/','popUpWindow','height=1200,width=600,left=10,top=10,,scrollbars=yes,menubar=no'); return false;" class="button5" target="_blank">Instagram</button></li>
                        </ul>
                    </div>
                </nav>
            </div>
            <div class="blue-bg">
                <div class="body">
                    <header class="table">
                        <div class="child">
                            <span class="typer inverse"></span>
                            <div class="animate" style="transition-delay: 1000ms;">
                                <h1>Welcome to Slow Bar</h1>
                                <h2 class="intro">A simple home for some nerdy coffee things</h2>
                            </div>
                        </div>
                    </header>
                    <div class="icon">
                        <div class="field">
                            <button class="blank-btn" onClick="window.location.href='#case';" aria-label="Scroll">
                                <div class="mouse"></div>
                            </button>
                        </div>              
                    </div>
                    <div class="grid-container" id="case">
                        <div class="grid-item grid-item-0">
                            <div class="img sb-zero"></div>
                            <div class="sub-grid-item">
                                <h3>Kettle Stand V1</h3>
                                <p class="intro">Total Downloads: <span id="downloadCount">?</span></p>
                                <p>Built for the Fellow Stagg EKG, this stand hides your scale under your kettle for a tidier workspace.</p>
                                <p>When opened, the drawer face can fold flat, allowing you to use most scales without interference.</p>
                                <p>Top tip, add felt to the bottom, middle of the drawer. This makes it easy to fully remove the drawer, and slide it back in without needing to lift it off the table.</p>
                                <button id="downloadButton" class="button1">Download</button>                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bg">
                <div class="body">
                    <div class="footer">
                        <div class="grid-container-2">
                            <div class="footer-grid-item-1">
                                <h3>What am I doing here?</h3>
                                <div>
                                    <button id="one" class="swatch dark-btn" alt="changes color theme to blue">Change Theme to Blue</button>
                                    <button id="two" class="swatch light-btn" alt="changes color theme to beige">Change Theme to Beige</button>
                                    <button id="three" class="swatch yellow-btn" alt="changes color theme to yellow">Change Theme to Yellow</button>
                                </div>
                                <p>I’m always tinkering, whether it's on cars, espresso machiens, or my sketchy DIY coffee roaster. I'm all about discovering how things work.</p>
                                <p>Here, you'll find the results of one more outlet for my fidgeting. These 3D models are released FREE of charge, because I believe communities are made better through group effort and support.</p>
                                <p>That being said, if you want to buy me a coffee, I won't decline!</p>
                                <button onclick="window.open('https://www.dakotaholiman.com/img/Venmo-QR.png','popUpWindow','height=512,width=428,left=10,top=10,,scrollbars=yes,menubar=no'); return false;" class="button2" target="_blank">Venmo Tip Jar</button>
                                <button onclick="window.open('https://www.instagram.com/slowbarbarista/','popUpWindow','height=1200,width=600,left=10,top=10,,scrollbars=yes,menubar=no'); return false;" class="button1" target="_blank">Instagram</button>                          
                            </div>
                            <div class="footer-grid-item-2" id="about">
                            </div>
                        </div>
                    </div>
                </div>    
            </div>
        </div>
    </body>
    <script defer src="js/animate.js"></script>
    <script defer src="js/konami.js"></script>
    <script defer src="js/swatches.js"></script>
    <script>
        function cardClick(url) {
    var selection = window.getSelection().toString().trim();
    if (selection === '') {
        window.location.href = url;
    }
}
    </script>
</html>
